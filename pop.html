<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Pop Music Over the Decades</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/paper.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 64px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h2 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h3 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h4 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h5 {
  padding-top: 69px;
  margin-top: -69px;
}
.section h6 {
  padding-top: 69px;
  margin-top: -69px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Data Science is my Hobby</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="pop.html">Pop Music Analysis</a>
</li>
<li>
  <a href="avocado.html">Avocado App</a>
</li>
<li>
  <a href="effectsizesim.html">Effect Size Simulation</a>
</li>
<li>
  <a href="covid.html">COVID-19</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Pop Music Over the Decades</h1>

</div>


<p></br></p>
<div id="background" class="section level2">
<h2>Background</h2>
<p></br> My sister, Nassim, is a singer/songwriter who lives in Los Angeles. For some reason she values my feedback and sometimes she sends me her songs. </br> She recently sent me some of her songs and our conversation went like this (some details have been changed because I don’t remember them): </br></br></p>
<blockquote>
Gol: I like your sad songs about heartbreak and all the hard stuff you’ve gone through much more than the poppy, happy songs. </br> Nassim: Most people don’t want to hear sad songs–they want happy, upbeat music! That’s what sells. </br> Gol: Are you sure? </br> Nassim: Yes. </br> Gol: Well, that’s an empirical question. </br> Nassim: What? </br> Gol: I mean that we can probably look to see if that’s true or not based on some data. </br> Nassim: … </br>
</blockquote>
<p></br></p>
<p>So, I downloaded &lt;a href=“<a href="https://www.kaggle.com/rakannimer/billboard-lyrics" class="uri">https://www.kaggle.com/rakannimer/billboard-lyrics</a>”, target=&quot;_blank&quot;&gt;a dataset</a> that had the Billboard Hot-100 Songs from 1964 - 2015 and tried to answer our question: Are sad songs or happy songs more popular? </br> </br></p>
</div>
<div id="initial-look" class="section level2">
<h2>Initial Look</h2>
<p></br> I used the following packages:</p>
<pre class="r"><code>library(&quot;tidyverse&quot;)
library(&quot;tidytext&quot;)
library(&quot;wordcloud&quot;)
library(&quot;reshape2&quot;)</code></pre>
<p></br>This is a tibble (a quick look) at the dataset that has the lyrics from the Billboard Top 100 Songs from 1965 - 2015.</p>
<pre class="r"><code>lyrics</code></pre>
<pre><code>## # A tibble: 5,100 x 6
##     Rank Song            Artist        Year Lyrics                   Source
##    &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;                     &lt;dbl&gt;
##  1     1 wooly bully     sam the sha…  1965 sam the sham miscellane…      3
##  2     2 i cant help my… four tops     1965 sugar pie honey bunch y…      1
##  3     3 i cant get no … the rolling…  1965 &lt;NA&gt;                          1
##  4     4 you were on my… we five       1965 when i woke up this mor…      1
##  5     5 youve lost tha… the righteo…  1965 you never close your ey…      1
##  6     6 downtown        petula clark  1965 when youre alone and li…      1
##  7     7 help            the beatles   1965 help i need somebody he…      3
##  8     8 cant you hear … hermans her…  1965 carterlewis every time …      5
##  9     9 crying in the … elvis presl…  1965 you saw me crying in th…      1
## 10    10 my girl         the temptat…  1965 ive got sunshine on a c…      3
## # … with 5,090 more rows</code></pre>
<p></br>I added a decade column and then created a dataset called <i>lyrics.tidy</i> that split all the lyrics into separate words.</p>
<pre class="r"><code>lyrics &lt;- lyrics %&gt;%
    mutate(decade =
                ifelse(lyrics$Year %in% 1965:1969, &quot;1960&quot;,
                ifelse(lyrics$Year %in% 1970:1979, &quot;1970&quot;,
                ifelse(lyrics$Year %in% 1980:1989, &quot;1980&quot;,
                ifelse(lyrics$Year %in% 1990:1999, &quot;1990&quot;,
                ifelse(lyrics$Year %in% 2000:2009, &quot;2000&quot;,
                ifelse(lyrics$Year %in% 2010:2015, &quot;2010&quot;,
                &quot;NA&quot;
                )))))))

lyrics.tidy &lt;- lyrics %&gt;%
    na.omit() %&gt;%
    unnest_tokens(word, Lyrics) #splits lyrics into separate words</code></pre>
<p></br>Now for fun, I visualized the words in a hot pink world cloud :) Not suprisingly, LOVE is a popular concept to write about!</p>
<pre class="r"><code>lyrics.tidy %&gt;%
    anti_join(stop_words) %&gt;% # removes stop words (and, the, etc.)
    count(word) %&gt;% # gives a count of how many times that word appears in the dataset
    with(wordcloud(word, n, max.words = 200, color = &quot;hotpink&quot;)) # makes a word cloud</code></pre>
<p><img src="pop_files/figure-html/wordcloud-1.png" width="672" /></p>
</div>
<div id="sentiment-analysis" class="section level2">
<h2>Sentiment Analysis</h2>
<p></br>Okay, now let’s see what sort of emotion is present in these lyrics. Using the <a href="https://www.cs.uic.edu/~liub/FBS/sentiment-analysis.html" target="_blank">Bing</a> sentiment word dictionary, I matched each word with it’s sentiment score. A higher score means more positive sentiment and a lower score means more negative sentiment.</p>
<pre class="r"><code>get_sentiments(&quot;bing&quot;)</code></pre>
<pre><code>## # A tibble: 6,786 x 2
##    word        sentiment
##    &lt;chr&gt;       &lt;chr&gt;    
##  1 2-faces     negative 
##  2 abnormal    negative 
##  3 abolish     negative 
##  4 abominable  negative 
##  5 abominably  negative 
##  6 abominate   negative 
##  7 abomination negative 
##  8 abort       negative 
##  9 aborted     negative 
## 10 aborts      negative 
## # … with 6,776 more rows</code></pre>
<pre class="r"><code>lyrics.sentiment.bing &lt;- lyrics.tidy %&gt;%
    inner_join(get_sentiments(&quot;bing&quot;)) %&gt;%
    count(Song, Year, decade, sentiment) %&gt;%
    spread(sentiment, n, fill = 0) %&gt;%
    mutate(sentiment = positive - negative) </code></pre>
<p></br>Now, let’s see how sentiment has changed throughout the decades. On average, popular song lyrics have gotten more negative over time (although I’m not sure what was going on in the 1960’s…)</p>
<pre class="r"><code>ggplot(lyrics.sentiment.bing, aes(decade, sentiment, fill = decade)) + 
  stat_summary(fun.y = &quot;mean&quot;, geom = &quot;bar&quot;)</code></pre>
<p><img src="pop_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p></br>Here is another plot by decade, but this one shows us the sentiment score for every song in each decade. So, here we can see there is more fluctuation in the later decades and definitely more extreme scores in the 2010’s.</p>
<pre class="r"><code>ggplot(lyrics.sentiment.bing, aes(Song, sentiment, fill = decade)) + 
  geom_col(show.legend = FALSE) + 
  facet_wrap(~decade, ncol = 2, scales =&quot;free_x&quot;) + 
  theme(axis.text.x = element_blank()) </code></pre>
<p><img src="pop_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p></br>I wondered what those really high and low songs from the 2010’s were, so I pulled those out. So, <a href="https://www.azlyrics.com/lyrics/taylorswift/shakeitoff.html" target="_blank">Shake it off</a> by Taylor Swift is the song with the negative spike in the 2010’s graph. And <a href="https://www.azlyrics.com/lyrics/nickiminaj/superbass.html" target="_blank">Super Bass</a> by Nicki Minaj is the song with the positive spike 2010’s graph. One thing to consider with this analysis is how many times a word is repeated in a song. The more often a word is repeated, the higher/lower the sentiment score will be. Hmmm…</p>
<pre class="r"><code>lyrics.sentiment.bing %&gt;%
  filter(decade == 2010) %&gt;%
  arrange(-abs(sentiment)) %&gt;%
  slice(1:3)</code></pre>
<pre><code>## # A tibble: 3 x 6
##   Song          Year decade negative positive sentiment
##   &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;
## 1 shake it off  2014 2010        123        4      -119
## 2 shake it off  2015 2010        123        4      -119
## 3 super bass    2011 2010          6      108       102</code></pre>
<p></br> I made another word cloud of positive and negative sentiment words. Again, LOVE is very popular to write about!</p>
<pre class="r"><code>lyrics.tidy %&gt;%
    inner_join(get_sentiments(&quot;bing&quot;)) %&gt;%
    count(word, sentiment, sort = TRUE) %&gt;%
    acast(word ~ sentiment, value.var = &quot;n&quot;, fill = 0 ) %&gt;%
    comparison.cloud(colors = c(&quot;purple1&quot; , &quot;royalblue&quot;))</code></pre>
<p><img src="pop_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p></br>It’s easier to visualize the most common positive and negative words in a barchart.</p>
<pre class="r"><code>bing.word.counts &lt;- lyrics.tidy %&gt;%
    inner_join(get_sentiments(&quot;bing&quot;)) %&gt;%
    count(word, sentiment, sort = TRUE) %&gt;%
    ungroup() %&gt;%
    group_by(sentiment) %&gt;%
    top_n(15)  %&gt;%
    ungroup() %&gt;%
    mutate(word = reorder(word, n)) %&gt;%
    ggplot(aes(word, n, fill = sentiment)) + 
    geom_col(show.legend = FALSE) +
    facet_wrap(~sentiment, scales=&quot;free_y&quot;) +
    labs(y = &quot;Number of times the word is used&quot;, x = NULL) + coord_flip()

bing.word.counts</code></pre>
<p><img src="pop_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p></br> So, I wondered if I could get any more insight by looking at groups of words together. I decided to look at the most common trigrams per decade. I added a condition where I did not include trigrams with repeated words.</p>
<pre class="r"><code>lyrics.grams &lt;- lyrics %&gt;%
    mutate_if(is.factor, as.character) %&gt;%
    unnest_tokens(bigram, Lyrics, token =&quot;ngrams&quot; , n = 3) %&gt;%
    separate(bigram, c(&quot;word1&quot;, &quot;word2&quot;, &quot;word3&quot;), sep = &quot; &quot;) %&gt;%
    filter(!word1 %in% stop_words$word) %&gt;%
    filter(!word2 %in% stop_words$word) %&gt;%
    filter(!word3 %in% stop_words$word) %&gt;%
    filter(word1 != word2) %&gt;%
    filter(word2 != word3) %&gt;%
  filter(word1 != word3) %&gt;%
    unite(bigram, word1, word2, word3, sep= &quot; &quot;) %&gt;%
    inner_join(lyrics) %&gt;%
    count(bigram, decade, sort = TRUE) %&gt;%
    group_by(decade) %&gt;%
    top_n(10, n) %&gt;%
    ungroup() %&gt;%
    arrange(decade, n) %&gt;%
    mutate(row = row_number())

lyrics.grams %&gt;%
    ggplot(aes(row, n, fill = factor(decade))) + 
  geom_col(show.legend= FALSE) + facet_wrap(~decade, scales = &quot;free_y&quot;) +    
  scale_x_continuous(breaks = lyrics.grams$row, labels = lyrics.grams$bigram) + 
  coord_flip()</code></pre>
<p><img src="pop_files/figure-html/unnamed-chunk-9-1.png" width="672" /> </br> Even with the condition of no repeating word within trigrams, we can see words are repeated a lot in different orders. Also, some of the most frequently occuring trigrams belonged to just one song. For example, “force don’t stop” is the fifth most frequently occuring trigram from the 1970’s and is from one Michael Jackson song. So, clearly repeating words are affecting the analysis, but at this point it’s unclear how much of an effect it has on the results. So, a future analysis could identify unique words in each song and rerun the sentiment analysis on only the unique words.</p>
</div>
<div id="punchline" class="section level2">
<h2>Punchline</h2>
<p>There are plenty more analyses that can be done (for example: we could look beyond lyrics and examine the tempo or minor/major chords to determine sad vs. happy), but from this, it seems popular songs tend to use positive/happy lyrics although there has been a bit of a trend towards more sad/negative since the 1970’s.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
